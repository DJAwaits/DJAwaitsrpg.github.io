<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fishing</title>
    <link href="fishingStyle.css" rel="stylesheet">
    <style>
        .hidden {
            display:none;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="content" id="header-content">
        <header><h1>Fishing</h1></header>
    </div>
    <div class="content" id="level-content">
        <div class="row">
            <label>Fisherman Level:</label>
            <label id="currentLevel">0</label>
            /
            <label>100</label>
        </div>
        <br>
        <div class="row">  
            <label>Current Exp: </label>
            <label id="currentExp">0</label>
        </div>
        <div class="row">
            <label>Required XP: </label>
            <label id="missingExp">100</label>
        </div>
    </div>
    <div class="content" id="fishing-content">
        <div>
            <button id="carp" class="carpButton">
                <div>
                    <div class="fishing-card-info">
                        <small>Fish</small>
                        <br>
                        <strong>Carp</strong>
                        <br>
                        <small>10 XP / Click</small>
                    </div>
                    <div class="image-area">
                        <img class="image" src="https://cdn-icons-png.flaticon.com/512/235/235429.png" height="50" width="60" alt="tree">
                    </div>
                    <div class="fish-area">
                        <h2 id="rawCarp">0 Raw Carp</h2>
                    </div>
                </div>
            </button>
            <button id="stopCarp" class="hidden stopCarpButton">
                <div class="fishing-card-info">
                    <small>Fish</small>
                    <br>
                    <strong>Carp</strong>
                    <br>
                    <small>10 XP / Click</small>
                </div>
                <div class="image-area">
                    <img class="image" src="https://cdn-icons-png.flaticon.com/512/235/235429.png" height="50" width="60" alt="tree">
                </div>
                <h2 class="cancel-fishing">Stop Fishing</h2>
                <div class="fish-area">
                    <h2 id="rawCarpActive">0 Raw Carp</h2>
                </div>
            </button>
            <button id="carpClickerButton" class="hidden"></button>
        </div>
        <div>
            <button id="cod" class="codButton">
                <div>
                    <div class="fishing-card-info">
                        <small>Fish</small>
                        <br>
                        <strong>Cod</strong>
                        <br>
                        <small>20 XP / Click</small>
                    </div>
                    <div class="image-area">
                        <img class="image" src="https://cdn-icons-png.flaticon.com/512/2255/2255603.png" height="50" width="60" alt="tree">
                    </div>
                    <div class="fish-area">
                        <h2 id="rawCod">0 Raw Cod</h2>
                    </div>
                </div>
            </button>
            <button id="stopCod" class="hidden stopCodButton">
                <div class="fishing-card-info">
                    <small>Fish</small>
                    <br>
                    <strong>Cod</strong>
                    <br>
                    <small>20 XP / Click</small>
                </div>
                <div class="image-area">
                    <img class="image" src="https://cdn-icons-png.flaticon.com/512/2255/2255603.png" height="50" width="60" alt="tree">
                </div>
                <h2 class="cancel-fishing">Stop Fishing</h2>
                <div class="fish-area">
                    <h2 id="rawCodActive">0 Raw Cod</h2>
                </div>
            </button>
            <button id="codClickerButton" class="hidden"></button>
        </div>
        <div>
            <button id="salmon" class="salmonButton">
                <div>
                    <div class="fishing-card-info">
                        <small>Fish</small>
                        <br>
                        <strong>Salmon</strong>
                        <br>
                        <small>30 XP / Click</small>
                    </div>
                    <div class="image-area">
                        <img class="image" src="https://cdn-icons-png.flaticon.com/512/235/235432.png" height="50" width="60" alt="tree">
                    </div>
                    <div class="fish-area">
                        <h2 id="rawSalmon">0 Raw Salmon</h2>
                    </div>
                </div>
            </button>
            <button id="stopSalmon" class="hidden stopSalmonButton">
                <div class="fishing-card-info">
                    <small>Fish</small>
                    <br>
                    <strong>Salmon</strong>
                    <br>
                    <small>30 XP / Click</small>
                </div>
                <div class="image-area">
                    <img class="image" src="https://cdn-icons-png.flaticon.com/512/235/235432.png" height="50" width="60" alt="tree">
                </div>
                <h2 class="cancel-fishing">Stop Fishing</h2>
                <div class="fish-area">
                    <h2 id="rawSalmonActive">0 Raw Salmon</h2>
                </div>
            </button>
            <button id="salmonClickerButton" class="hidden"></button>
        </div>
        <div>
            <button id="trout" class="troutButton">
                <div>
                    <div class="fishing-card-info">
                        <small>Fish</small>
                        <br>
                        <strong>Trout</strong>
                        <br>
                        <small>40 XP / Click</small>
                    </div>
                    <div class="image-area">
                        <img class="image" src="https://cdn2.iconfinder.com/data/icons/fish-and-reptiles/50/Fish_and_Reptiles-15-512.png" height="50" width="60" alt="tree">
                    </div>
                    <div class="fish-area">
                        <h2 id="rawTrout">0 Raw Trout</h2>
                    </div>
                </div>
            </button>
            <button id="stopTrout" class="hidden stopTroutButton">
                <div class="fishing-card-info">
                    <small>Fish</small>
                    <br>
                    <strong>Trout</strong>
                    <br>
                    <small>40 XP / Click</small>
                </div>
                <div class="image-area">
                    <img class="image" src="https://cdn2.iconfinder.com/data/icons/fish-and-reptiles/50/Fish_and_Reptiles-15-512.png" height="50" width="60" alt="tree">
                </div>
                <h2 class="cancel-fishing">Stop Fishing</h2>
                <div class="fish-area">
                    <h2 id="rawTroutActive">0 Raw Trout</h2>
                </div>
            </button>
            <button id="troutClickerButton" class="hidden"></button>
        </div>
    </div>
</div>
<a href="non-combat.html">Back</a>
<script>
    let carpAmount = 0;
    let codAmount = 0;
    let salmonAmount = 0;
    let troutAmount = 0;

    let expAmount = 0;
    let carpExpGain = 10;
    let codExpGain = 20;
    let salmonExpGain = 30;
    let troutExpGain = 40;
    let gainLevel = 1;
    let levelAmount = 1;
    let requiredExp = 100;
    let requiredExpActive = 100;

    let fishGain = 1;

    const currentExp = document.getElementById('currentExp');
    const currentLevel = document.getElementById('currentLevel');
    const missingExp = document.getElementById('missingExp')

    const carpButton = document.getElementById('carp');
    const rawCarp = document.getElementById('rawCarp');
    const carpClickerButton = document.getElementById('carpClickerButton');
    const stopFishingCarpButton = document.getElementById('stopCarp');
    const rawCarpActive = document.getElementById('rawCarpActive');

    const codButton = document.getElementById('cod');
    const rawCod = document.getElementById('rawCod');
    const rawCodActive = document.getElementById('rawCodActive');
    const codClickerButton = document.getElementById('codClickerButton');
    const stopFishingCodButton = document.getElementById('stopCod');

    const salmonButton = document.getElementById('salmon');
    const rawSalmon = document.getElementById('rawSalmon');
    const rawSalmonActive = document.getElementById('rawSalmonActive');
    const salmonClickerButton = document.getElementById('salmonClickerButton');
    const stopFishingSalmonButton = document.getElementById('stopSalmon');

    const troutButton = document.getElementById('trout');
    const rawTrout = document.getElementById('rawTrout');
    const rawTroutActive = document.getElementById('rawTroutActive');
    const troutClickerButton = document.getElementById('troutClickerButton');
    const stopFishingTroutButton = document.getElementById('stopTrout');

    //Carp Event Listeners
    carpClickerButton.addEventListener('click', function(e){
        carpAmount += fishGain;
        rawCarp.innerHTML = `${carpAmount} Raw Carp`;
        rawCarpActive.innerHTML = `${carpAmount} Raw Carp`;
        expAmount += carpExpGain;
        currentExp.innerHTML = `${expAmount} exp`;
        requiredExpActive -= carpExpGain;
        missingExp.innerHTML = `${requiredExpActive} exp`;
        levelUp();
    })

    carpButton.addEventListener('click', function(e){
        carpButton.classList.add('hidden');
        stopFishingCarpButton.classList.remove('hidden');
        startCarpFishing();
    })

    stopFishingCarpButton.addEventListener('click', function(e){
        carpButton.classList.remove('hidden');
        stopFishingCarpButton.classList.add('hidden');
        stopCarpFishing();
    })

    //Cod Event Listeners
    codClickerButton.addEventListener('click', function(e){
        codAmount += fishGain;
        rawCod.innerHTML = `${codAmount} Raw Cod`;
        rawCodActive.innerHTML = `${codAmount} Raw Cod`;
        expAmount += codExpGain;
        currentExp.innerHTML = `${expAmount} exp`;
        requiredExpActive -= codExpGain;
        missingExp.innerHTML = `${requiredExpActive} exp`;
        leveUp();
    })

    codButton.addEventListener('click', function(e){
        codButton.classList.add('hidden');
        stopFishingCodButton.classList.remove('hidden');
        startCodFishing();
    })

    stopFishingCodButton.addEventListener('click', function(e){
        codButton.classList.remove('hidden');
        stopFishingCodButton.classList.add('hidden');
        stopCodFishing();
    })

    //Salmon Event Listeners
    salmonClickerButton.addEventListener('click', function(e){
        salmonAmount += fishGain;
        rawSalmon.innerHTML = `${salmonAmount} Raw Salmon`;
        rawSalmonActive.innerHTML = `${salmonAmount} Raw Salmon`;
        expAmount += salmonExpGain;
        currentExp.innerHTML = `${expAmount} exp`;
        requiredExpActive -= salmonExpGain;
        missingExp.innerHTML = `${requiredExpActive} exp`;
        levelUp();
    })

    salmonButton.addEventListener('click', function(e){
        salmonButton.classList.add('hidden');
        stopFishingSalmonButton.classList.remove('hidden');
        startSalmonFishing();
    })

    stopFishingSalmonButton.addEventListener('click', function(e){
        salmonButton.classList.remove('hidden');
        stopFishingSalmonButton.classList.add('hidden');
        stopSalmonFishing();
    })

    //Trout Event Listeners
    troutClickerButton.addEventListener('click', function(e){
        troutAmount += fishGain;
        rawTrout.innerHTML = `${troutAmount} Raw Trout`;
        rawTroutActive.innerHTML = `${troutAmount} Raw Trout`;
        expAmount += troutExpGain;
        currentExp.innerHTML = `${expAmount} exp`;
        requiredExpActive -= troutExpGain;
        missingExp.innerHTML = `${requiredExpActive} exp`;
        levelUp();
    })

    troutButton.addEventListener('click', function(e){
        troutButton.classList.add('hidden');
        stopFishingTroutButton.classList.remove('hidden');
        startTroutFishing();
    })

    stopFishingTroutButton.addEventListener('click', function(e){
        troutButton.classList.remove('hidden');
        stopFishingTroutButton.classList.add('hidden');
        stopTroutFishing();
    })

    //Carp Button Functions
    let carpFishingInterval;

    function carp(){
        document.getElementById("carpClickerButton").click();
    }

    function startCarpFishing(){
        carpFishingInterval = setInterval(carp, 10000);
    }

    function stopCarpFishing(){
        clearInterval(carpFishingInterval);
    }

    //Cod Button Functions
    let codFishingInterval;

    function cod(){
        document.getElementById("codClickerButton").click();
    }

    function startCodFishing(){
        codFishingInterval = setInterval(cod, 10000);
    }

    function stopCodFishing(){
        clearInterval(codFishingInterval);
    }

    //Salmon Button Functions
    let salmonFishingInterval;

    function salmon(){
        document.getElementById("salmonClickerButton").click();
    }

    function startSalmonFishing(){
        salmonFishingInterval = setInterval(salmon, 10000);
    }

    function stopSalmonFishing(){
        clearInterval(salmonFishingInterval);
    }

    //Trout Button Functions
    let troutFishingInterval;

    function trout() {
        document.getElementById("troutClickerButton").click();
    }

    function startTroutFishing(){
        troutFishingInterval = setInterval(trout, 10000);
    }

    function stopTroutFishing(){
        clearInterval(troutFishingInterval);
    }

    function levelUp(){
            if (expAmount >= requiredExp){
            levelAmount += gainLevel;
            currentLevel.innerHTML = `Level ${levelAmount}`;
            expAmount = 0
            currentExp.innerHTML = `${expAmount} exp`;
            requiredExpActive = 100;
            missingExp.innerHTML = `${requiredExpActive} exp`;
            };

            /*if (levelAmount >= 1){
                requiredExp *= 2;
                console.log(requiredExp);
            }*/
        }

</script>
</body>
</html>